/**
 * jQuery.gpInside 1.0
 * http://ginpen.com/jquery/gpinside/
 * https://github.com/ginpei/jQuery.gpInside
 *
 * Copyright (c) 2011 Takanashi Ginpei
 * http://ginpen.com
 *
 * Released under the MIT License.
 * http://www.opensource.org/licenses/mit-license.php
 */
(function(b){try{if(window.com.ginpen.gpInside){return}}catch(c){}if(!window.com){window.com={}}if(!com.ginpen){com.ginpen={}}var a=com.ginpen.gpInside={VERSION:"1.0",DEFAULT:{autoAppearance:true,type:null},mergeSettings:function(d){return b.extend({},a.DEFAULT,d)},adjust:function(d,e){var f=this._getValues(d,e);this._calclatePosition(f,d,e);this._setPosition(f,d,e);if(e.autoAppearance){d.show()}},_getValues:function(n,h){var f=h.left;var k=h.top;if(isNaN(f)||isNaN(k)){var i=n.offset();if(isNaN(f)){f=i.left}if(isNaN(k)){k=i.top}}var d=n.outerWidth(true);var m=n.outerHeight(true);var l=document.documentElement.clientWidth||document.body.clientWidth;var j=document.documentElement.clientHeight||document.body.clientHeight;var g=document.documentElement.scrollLeft||document.body.scrollLeft;var e=document.documentElement.scrollTop||document.body.scrollTop;return{clientHeight:j,clientWidth:l,height:m,left:f,scrollLeft:g,scrollTop:e,top:k,width:d}},_calclatePosition:function(d,e,f){switch(f.type){case"center":this._calclateCenterPosition(d,e,f);break;case"contextmenu":this._calclateContextmenuPosition(d,e,f);break;default:this._calclateContainPosition(d,e,f)}return d},_calclateContainPosition:function(d,e,f){if(d.left+d.width>d.scrollLeft+d.clientWidth){d.left=d.scrollLeft+d.clientWidth-d.width;if(d.left<0){d.left=0}}if(d.top+d.height>d.scrollTop+d.clientHeight){d.top=d.scrollTop+d.clientHeight-d.height;if(d.top<0){d.top=0}}return d},_calclateCenterPosition:function(d,e,f){d.left=(d.clientWidth-d.width)/2;d.top=(d.clientHeight-d.height)/2;this._calclateContainPosition(d,e,f);return d},_calclateContextmenuPosition:function(d,e,f){if(d.left+d.width>d.scrollLeft+d.clientWidth){d.left-=d.width}if(d.top+d.height>d.scrollTop+d.clientHeight){d.top-=d.height}this._calclateContainPosition(d,e,f);return d},_setPosition:function(d,e,f){e.css({left:d.left,top:d.top})},banpei:null};b.fn.gpInside=function(f){f=a.mergeSettings(f);for(var e=0,d=this.length;e<d;e++){a.adjust(this.eq(e),f)}return this};b.fn.gpCenter=function(d){d=d||{};d.type="center";return this.gpInside(d)}}(jQuery));
